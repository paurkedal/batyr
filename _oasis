OASISFormat: 0.4
Name: batyr
Version: 0.5
Synopsis: A jabber logger and web interface
Authors: Petter A. Urkedal
License: GPL-3
AlphaFeatures: ocamlbuild_more_args
Plugins: DevFiles (0.4), META (0.4)
BuildTools: ocamlbuild
XOCamlbuildPluginTags: package(ocamlbuild-eliom-dev)
OCamlVersion: >= 4.01

FilesAB: lib/batyr_version.ml.ab

Library batyr
  Path: lib
  Modules:
    Batyr_data,
    Batyr_db,
    Batyr_cache,
    Batyr_config,
    Batyr_prereq,
    Batyr_presence,
    Batyr_search,
    Batyr_search_lexer,
    Batyr_search_parser,
    Batyr_search_types,
    Batyr_sql,
    Batyr_version,
    Batyr_xmpp
  BuildDepends:
    caqti, calendar, config-file, eliom, erm_xmpp, extunix, lwt, lwt.react,
    postgresql, prime, prime.unstable, tls.lwt
  ByteOpt: -thread
  NativeOpt: -thread

Library batyrweb
  FindlibParent: batyr
  FindlibName: web
  Path: web
  Modules:
    server/Batyrweb_admin,
    server/Batyrweb_index,
    server/Batyrweb_status,
    server/Batyrweb_tools,
    server/Batyrweb_transcript,
    Batyrweb_prereq,
    server/Batyrweb_server,
    server/Bwl_table_editor
  BuildDepends:
    batyr, eliom.server, ppx_deriving.runtime, yojson
  ByteOpt: -thread
  NativeOpt: -thread
  DataFiles:
    static/css/*.css ($datadir/batyr/static/css),
    ../_build/web/client/*.js ($datadir/batyr/static)

Executable batyrweb_main
  Path: web/client
  BuildDepends: eliom.client, prime, prime.unstable
  MainIs: main.ml
  ByteOpt: -thread
  Install: false

Executable batyrweb_admin
  Path: web/client
  BuildDepends: eliom.client, prime, prime.unstable
  MainIs: admin.ml
  ByteOpt: -thread
  Install: false

Document api
  Title: Batyr Library API
  Type: ocamlbuild (0.4)
  InstallDir: $htmldir/html
  BuildTools+: ocamldoc
  XOCamlbuildPath: lib
  XOCamlbuildLibraries: batyr
  DataFiles: COPYING ($docdir)
