true: bin_annot, eliom_ppx
false: package(adpkg)

# common

true: \
    package(calendar), \
    package(lwt.ppx), \
    package(lwt_react), \
    package(ppx_compose), \
    package(prime), package(prime.unstable), \
    package(react)

# common except JS

<{lib,web/server}/*> or <logger-slack/*>: thread, \
    package(caqti), \
    package(caqti-dynload), \
    package(caqti-lwt), \
    package(caqti-type-calendar), \
    package(config-file), \
    package(extunix), \
    package(erm_xmpp), \
    package(tls), \
    package(ppx_deriving), \
    package(js_of_ocaml-ppx.deriving)

# batyr-web

<web/server/*>: package(eliom.server), use_batyr_lib, package(yojson)
<web/client/*>: package(eliom.client), package(js_of_ocaml.ppx)

# batyr-logger-slack

<logger-slack/*>: \
    use_batyr_lib, \
    package(cmdliner), \
    package(conduit), \
    package(conduit-lwt), \
    package(dns-lwt-unix), \
    package(logs), \
    package(logs.fmt), \
    package(logs.lwt), \
    package(lru), \
    package(slacko), \
    package(kojson), \
    package(ptime), \
    package(uri), \
    package(websocket), \
    package(websocket-lwt)
