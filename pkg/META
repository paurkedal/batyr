version = "%%VERSION_NUM%%"
description = "A jabber logger and web interface"
directory = "."
requires = "
  calendar
  caqti
  caqti-dynload
  caqti-lwt
  caqti-type-calendar
  config-file
  erm_xmpp
  extunix
  lwt
  lwt_react
  prime
  prime.unstable
  react
  tls
  tls.lwt
"
archive(byte) = "batyr.cma"
archive(native) = "batyr.cmxa"
plugin(byte) = "batyr.cma"
plugin(native) = "batyr.cmxs"
exists_if = "batyr.cma"

package "web" (
  version = "%%VERSION_NUM%%"
  directory = "../batyr-web"
  description = "A jabber logger and web interface"
  requires = "
    batyr
    eliom
    eliom.server
    yojson
  "
  archive(byte) = "batyrweb.cma"
  archive(native) = "batyrweb.cmxa"
  plugin(byte) = "batyrweb.cma"
  plugin(native) = "batyrweb.cmxs"
  exists_if = "batyrweb.cma"
)
